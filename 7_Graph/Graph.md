# 图的定义

## 图的相关概念

数据的逻辑结构大致可分为四类。

> 集合：数据元素同属于一个集合，无顺序关系。

> 线性结构：有序数据元素的集合。给定一个元素，它至多有一个前驱、一个后继。如线性表、栈、队列、数组、串。

> 树形结构：给定一个元素，它至多有一个前驱，可能有任意多个后继。

> 图形结构：给定一个元素，它可能有任意多个前驱，任意多个后继。

图 Graph = (Vertex, Edge)。其中 Vertex 是顶点（即数据元素）的有穷非空集合，Edge 是边的有穷集合。

> 无向图：每条边都是无方向的。

> 有向图：每条边都是有方向的。

> 完全图：任意两顶点之间都有边相连。
> - 在无向图中有一条边相连，在有向图中有两条边相连。
> - 有 $n$ 顶点的无向完全图有 $\frac{n(n-1)}{2}$ 条边，有 $n$ 顶点的有向完全图有 $n(n-1)$ 条边。

> 弧：有向图的带箭头的边也被称为弧。

> 稀疏图：边或弧很少($e<n\log n$)的图。

> 稠密图：边或弧很多的图。

> 邻接：有边或弧相连的两个顶点之间的关系。
> - 对于无向图存在偶对 ($v_i, v_j$)，则称互为邻接点。
> - 对于有向图存在序偶 <$v_i, v_j$>，则称 $v_i$ 邻接到 $v_j$，$v_j$ 邻接于 $v_i$。

> 关联/依附：边或弧与顶点之间的关系。
> - 如果存在 ($v_i, v_j$) 或 <$v_i, v_j$>，则称该边或弧关联于 $v_i$ 和 $v_j$。

> 顶点的度：与该顶点相关联的边的数目，记为 TD(v)。
> - 在有向图中，顶点的度等于该顶点的入度和出度之和。

> 入度：顶点 v 的入度是以 v 为终点的有向边的条数，记作 ID(v)。

> 出度：顶点 v 的出度是以 v 为始点的有向边的条数，记作 OD(v)。

> 路径：接续的边构成的顶点序列。

> 路径长度：路径上边或弧的数目或权值之和。

> 回路(环)：第一个顶点与最后一个顶点相同的路径。

> 简单路径：除路径起点和终点可以相同外，其余顶点均不相同的路径。

> 简单回路/简单环：除路径起点和终点相同外，其余顶点均不相同的路径。

> 连通图：在无向图中，若对任何两个顶点 v、u，都存在从 v 到 u 的路径，则称该图是连通图。

> 强连通图：在有向图中，若对任意两个顶点 v、u，都存在从 v 到 u 的路径，则称该图是强连通图。

> 权：图中边或弧所具有的相关数称为权。表明从一个顶点到另一个顶点的距离或耗费。

> 网：边或弧带权的图。

> 子图：设有两个图 G = (V, {E})、G1 = (V1, {E1})，若 V1 ⊆ V，E1 ⊆ E，则称 G1 是 G 的子图。

> 连通分量/极大连通子图：无向图的一个不被任何另外一个连通子图所包含的子图。将任何不在该子图中的顶点或边加入，子图就不再连通。
> - 对于无向连通图，只有一个连通分量/极大连通子图，就是它自己。
> - 对于无向非连通图，它有这样的连通子图：该子图包含了图中尽可能多的顶点以及尽可能多的边，以至于它再加上一个点、一个边后就不再连通。这样的图称为连通分量/极大连通子图。非连通图可能有多个连通分量/极大连通子图。

> 强连通分量/极大强连通子图：有向图的一个不被任何另外一个强连通子图所包含的子图。将任何不在该子图中的顶点或边加入，子图就不再强连通。
> - 对于有向强连通图，只有一个强连通分量/极小连通子图，就是它自己。
> - 对于有向非连通图，它有这样的强连通子图：该子图包含了图中尽可能多的顶点以及尽可能多的边，以至于它再加上一个点、一个边后就不再连通。这样的图称为强连通分量/极大强连通图。

> 极小连通子图：有向图的一个连通子图，将任何一条边删除，该子图即不再连通。

> 生成树：包含无向图所有顶点的极小连通子图。

> 生成森林：对非连通图，由各个连通分量的生成树的集合。

# 邻接矩阵实现图

可以借助二维数组来表示树中元素间的关系。这种表示方法称为邻接矩阵。

建立一个顶点表记录每个顶点的信息，和一个邻接矩阵表示各个顶点之间的关系。  
设图 A = (V, E) 有 n 个顶点。顶点可以是任意数据类型，我们假定为 char。建立顶点名到下标的索引，称为顶点表。   
|$i$|$0$|$1$|$2$|...|$n-1$|
|:-:|:-:|:-:|:-:|:-:|:-:|
|$Vexs[i]$|$v_1$|$v_2$|$v_3$|...|$v_n$|

图的邻接矩阵是一个二维数组 A.arcs[n][n]。我们假定为 int。A.arcs[i][j] 等于 1，当且仅当关系 <i, j> 或 (i, j) 存在于图中。否则 A.arcs[i][j] 等于 0。

- 无向图的邻接矩阵对称。
- 顶点 i 的度就是第 i 行或列 1 的个数。
- 完全图的邻接矩阵，对角元素为 0，其余均为 1。
- 有向图的邻接矩阵中，行代表出度边，列代表入度边。
- 有向图的邻接矩阵可能对称。
- 有向图顶点 i 的出度等于 i 所在行的所有元素之和，入度等于 i 所在列的所有元素之和。

如果给图上的边加权，图即成为网。令 A.arcs[i][j] 等于权值，若无权值，则等于无穷。可以使用 <climits> 库，它包含了宏 INT_MAX，可作为无穷大。

```cpp
#define MVNum 100;
typedef char VerTexType;
typedef int ArcType;
struct AMGraph {
    VerTexType vexs[MVNum];
    ArcType arcs[MVNum][MVNum];
    int vexnum, arcnum;
};
```

## 构造无向网

```cpp
Status CreateUDN(AMGraph &G) {
    cin >> G.vexnum >> G.arcnum;
    for(int i = 0; i < G.vexnum; i++)
        cin >> G.vexs[i];
    for(int i = 0; i < G.vexnum; i++)
        for(int j = 0; j < G.vexnum; j++)
            G.arcs[i][j] = INT_MAX;
    int v1, v2, w;
    for(int k = 0; k < G.arcnum; i++) {
        cin >> v1 >> v2 >> w;
        int i = LocateVex(G, v1);
        int j = LocateVex(G, v2);
        G.arcs[i][j] = w;
        G.arcs[j][i] = G.arcs[i][j];
    }
    return OK;
}
```

```cpp
int LocateVex(AMGraph &G, VertexType u) {
    for(int i = 0; i < G.vexnum; i++)
        if(u == G.vexs[i])
            return i;
    return -1;
}
```